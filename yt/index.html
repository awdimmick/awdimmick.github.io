<!doctype html>
<html lang="en">
<head>
<title>YouTube - no ads!</title>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="icon" type="image/x-icon" href="favicon.ico">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script>

    function load_video(){
        url = document.getElementById("url").value;
        video_area = document.getElementById("video_area");
        video_width = document.getElementById("container").clientWidth; 
        video_height = video_width * 0.75; // 4:3 ratio
        
        // Extract Youtube video ID from URL depending upon its format
        if (url.includes("watch?v=")){
            yt_id = url.split("watch?v=")[1].split("&")[0];
        }
        else {
            yt_id = url.split("/").slice(-1);
        }
        
        video_area.innerHTML = `<iframe width="${video_width}" height="${video_height}" src="https://www.youtube.com/embed/${yt_id}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`;
    }

</script>

</head>
<body>
    <div class="container" id="container" style="margin-top:10px;">
    <h1>Mr. Dimmick's YouTube-with-no-ads tool!</h1>
    
    <label for="url">Enter Youtube URL:</label>
    <input type="text" name="url" id="url" size="50">&nbsp;
    <button id="go_button" onclick="load_video();">Go!</button>
    <br><br>
    <div id="video_area">
        <span>Enter the URL for a YouTube video above!</span>
    </div>
</div>
</body>
<script>
    // From: https://www.w3schools.com/howto/howto_js_trigger_button_enter.asp 
    // Get the input field
    var input = document.getElementById("url");

    // Execute a function when the user presses a key on the keyboard
    input.addEventListener("keypress", function(event) {
    // If the user presses the "Enter" key on the keyboard
    if (event.key === "Enter") {
        // Cancel the default action, if needed
        event.preventDefault();
        // Trigger the button element with a click
        document.getElementById("go_button").click();
    }
    });
</script>
</html>
